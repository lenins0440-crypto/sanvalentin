<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Aventura Legendaria</title>

<style>

/* ================= BASE ================= */
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{
background:black;
color:white;
overflow:hidden;
height:100vh;
}

/* Canvas layers */
canvas{
position:fixed;
top:0;
left:0;
z-index:-1;
}

/* Pantallas */
.screen{
position:absolute;
width:100%;
height:100%;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
opacity:0;
pointer-events:none;
transition:1s ease;
padding:20px;
}

.active{
opacity:1;
pointer-events:auto;
}

h1{
color:#FFD700;
text-shadow:0 0 25px gold;
margin-bottom:20px;
}

/* Botones legendarios */
button{
background:linear-gradient(45deg,#ffd700,#b8860b);
border:none;
padding:14px 28px;
border-radius:40px;
font-weight:bold;
cursor:pointer;
transition:.3s;
margin:10px;
}

button:hover{
transform:scale(1.1);
box-shadow:0 0 30px gold;
}

/* Barra amor */
#bar{
width:80%;
height:22px;
border:2px solid gold;
border-radius:20px;
overflow:hidden;
margin-top:20px;
}

#fill{
height:100%;
width:0%;
background:linear-gradient(90deg,gold,#fff);
transition:.3s;
}

/* corazones */
.heart{
position:absolute;
font-size:26px;
cursor:pointer;
animation:float 6s linear;
}

@keyframes float{
from{transform:translateY(110vh)}
to{transform:translateY(-10vh)}
}

/* contador */
#counter{
margin-top:15px;
color:#ffd700;
font-size:18px;
}

/* modal */
.modal{
position:fixed;
inset:0;
background:rgba(0,0,0,.9);
display:none;
justify-content:center;
align-items:center;
padding:20px;
}

.modal-content{
background:#111;
border:1px solid gold;
padding:30px;
border-radius:15px;
max-width:700px;
max-height:90vh;
overflow:auto;
}

</style>
</head>

<body>

<!-- CANVAS -->
<canvas id="space"></canvas>
<canvas id="dragons"></canvas>

<!-- AUDIO -->
<audio id="music" loop>
<source src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b9bce4b.mp3">
</audio>

<audio id="click">
<source src="https://cdn.pixabay.com/audio/2022/03/10/audio_c8c8a73467.mp3">
</audio>

<!-- ================= INICIO ================= -->
<div id="start" class="screen active">
<h1>Una historia escrita entre destinos‚Ä¶</h1>
<button onclick="start()">‚ú® Comenzar aventura</button>
<div id="counter"></div>
</div>

<!-- ================= NIVEL 1 ================= -->
<div id="level1" class="screen">
<h1>Recuerdos del Destino</h1>

<p>Helado favorito:</p>
<button onclick="answer(true)">üç´ Chocolate</button>
<button onclick="answer(false)">üç¶ Vainilla</button>

<p style="margin-top:20px">Deporte favorito:</p>
<button onclick="answer(true)">‚öæ B√©isbol</button>
<button onclick="answer(false)">‚öΩ F√∫tbol</button>

<p id="msg"></p>
</div>

<!-- ================= NIVEL 2 ================= -->
<div id="level2" class="screen">
<h1>Portal del Coraz√≥n</h1>
<p>Toca los corazones para liberar energ√≠a.</p>
<div id="bar"><div id="fill"></div></div>
</div>

<!-- ================= NIVEL 3 ================= -->
<div id="level3" class="screen">
<h1>Compatibilidad Perfecta</h1>
<p>
Un alma con orgullo venezolano üáªüá™,<br><br>
guiada por Tairn y Andarna‚Ä¶<br><br>
porque el verdadero amor aprende incluso
qu√© sabores evitar para proteger la sonrisa del otro.
</p>

<button onclick="final()">‚ú® Revelar destino</button>
</div>

<!-- ================= FINAL ================= -->
<div id="final" class="screen">
<h1>
Stephani Dom√≠nguez,<br><br>
cada momento contigo se convierte en historia.<br><br>
Desde el primer segundo hasta todos los que vienen‚Ä¶
te amo infinitamente.
</h1>

<button onclick="openLetter()">üíå Abrir carta secreta</button>
</div>

<!-- CARTA -->
<div id="letter" class="modal">
<div class="modal-content">
<h2 style="color:gold">Carta secreta</h2>

<p>
Hay conexiones que no necesitan explicaci√≥n,
solo sentirse.
Desde el inicio supe que algo especial comenzaba,
como si dos caminos escritos por separado
decidieran encontrarse exactamente en el momento correcto.
</p><br>

<p>
Eres calma y aventura al mismo tiempo,
la raz√≥n por la que incluso los d√≠as normales
se convierten en recuerdos importantes.
</p><br>

<p>
No es solo amor‚Ä¶
es complicidad, confianza y esa sensaci√≥n
de hogar que aparece incluso en silencio.
</p><br>

<p style="color:gold;font-size:20px">
Y si esta historia fuera un libro,
te elegir√≠a en cada cap√≠tulo.
</p>

<button onclick="closeLetter()">Cerrar</button>
</div>
</div>

<script>

/* ================= TRANSICIONES ================= */
function show(id){
document.querySelectorAll(".screen")
.forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
localStorage.setItem("level",id);
}

/* ================= CONTADOR REAL ================= */
/* Inicio: 28 Septiembre 2:27 AM */
const startDate=new Date("2025-09-28T02:27:00");

function updateCounter(){
let now=new Date();
let diff=now-startDate;

let sec=Math.floor(diff/1000)%60;
let min=Math.floor(diff/60000)%60;
let hr=Math.floor(diff/3600000)%24;
let days=Math.floor(diff/86400000);
let months=Math.floor(days/30);

document.getElementById("counter").innerHTML=
`üíõ ${months} meses ${days%30} d√≠as ${hr}h ${min}m ${sec}s juntos`;
}
setInterval(updateCounter,1000);
updateCounter();

/* ================= INICIO ================= */
function start(){
document.getElementById("music").play();
show("level1");
}

/* ================= NIVEL 1 ================= */
let correct=0;
function answer(ok){
document.getElementById("click").play();
if(ok){
correct++;
document.getElementById("msg").innerText="‚ú® Recuerdo correcto.";
}else{
document.getElementById("msg").innerText="üíõ Incluso fallando‚Ä¶ el amor gana.";
}

if(correct>=2){
setTimeout(()=>show("level2"),1200);
}
}

/* ================= NIVEL 2 ================= */
let love=0;
const fill=document.getElementById("fill");

function spawnHeart(){
if(!document.getElementById("level2").classList.contains("active")) return;

let h=document.createElement("div");
h.className="heart";
h.innerText="üíñ";
h.style.left=Math.random()*90+"%";

h.onclick=()=>{
love+=10;
fill.style.width=love+"%";
h.remove();
if(love>=100) show("level3");
};

document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
}
setInterval(spawnHeart,900);

/* ================= FINAL ================= */
function final(){ show("final"); }

/* ================= CARTA ================= */
function openLetter(){
document.getElementById("letter").style.display="flex";
}
function closeLetter(){
document.getElementById("letter").style.display="none";
}

/* ================= ESPACIO + PART√çCULAS ================= */
const space=document.getElementById("space");
const ctx=space.getContext("2d");
space.width=innerWidth;
space.height=innerHeight;

let stars=[];
for(let i=0;i<140;i++){
stars.push({x:Math.random()*space.width,
y:Math.random()*space.height,
r:Math.random()*2});
}

function animateSpace(){
ctx.clearRect(0,0,space.width,space.height);
ctx.fillStyle="white";
stars.forEach(s=>{
ctx.beginPath();
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fill();
});
requestAnimationFrame(animateSpace);
}
animateSpace();

/* ================= DRAGONES CINEM√ÅTICOS ================= */
const dcanvas=document.getElementById("dragons");
const dctx=dcanvas.getContext("2d");
dcanvas.width=innerWidth;
dcanvas.height=innerHeight;

let t=0;
function dragons(){
dctx.clearRect(0,0,dcanvas.width,dcanvas.height);

t+=0.01;

/* Drag√≥n dorado */
dctx.fillStyle="gold";
dctx.beginPath();
dctx.arc(200+Math.sin(t)*200,200,20,0,Math.PI*2);
dctx.fill();

/* Drag√≥n negro */
dctx.fillStyle="white";
dctx.beginPath();
dctx.arc(innerWidth-200+Math.cos(t)*200,350,20,0,Math.PI*2);
dctx.fill();

requestAnimationFrame(dragons);
}
dragons();

/* ================= PROGRESO ================= */
window.onload=()=>{
let saved=localStorage.getItem("level");
if(saved) show(saved);
};

</script>
</body>
</html>
